@using System.Web;
@model ScrollableViewModel<Product>

@{
    ArgumentNullException.ThrowIfNull(Model);
    var products = await Model.NextAsync(2);
}

<div class="table" id="scrollContainer">

</div>

<div class="container align-content-center">
    <button id="loadMoreBtn">Load More</button>
</div>

<script src="~/js/jQuery.js"></script>
<script type="text/javascript">

    document.getElementById("loadMoreBtn").onclick = loadMore;

    function loadMore() {
        
        var rowName = "@Html.Raw(HttpUtility.JavaScriptStringEncode(Model.RowFormatPartialViewName))";

        $.ajax({
            url: '@Url.Action("RenderProductList", "Shared")/',
            type: 'GET',
                data: { "rowPartialName": rowName },
            dataType: "html",
            cache: false,
        }).done(function(result) {
            console.log("success");
            document.getElementById("scrollContainer").innerHTML += result;
        }).fail(function(error) {
            console.log("failed");
            console.log(error);
        });

    }

</script>